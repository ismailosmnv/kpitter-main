{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getPostDetail,likePost}from'../api';import{useParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PostDetail(){const{postId}=useParams();const[post,setPost]=useState(null);useEffect(()=>{fetchDetail();// eslint-disable-next-line\n},[postId]);async function fetchDetail(){try{const data=await getPostDetail(postId);setPost(data);}catch(err){console.error(err);}}async function handleLike(){try{await likePost(postId);fetchDetail();}catch(err){console.error(err);}}if(!post)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading post detail...\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Post #\",post.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:post.author.username}),\": \",post.text]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Likes: \",post.likesCount]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLike,children:\"Like\"})]});}","map":{"version":3,"names":["React","useState","useEffect","getPostDetail","likePost","useParams","jsx","_jsx","jsxs","_jsxs","PostDetail","postId","post","setPost","fetchDetail","data","err","console","error","handleLike","children","id","author","username","text","likesCount","onClick"],"sources":["/Users/ismailosmanov/Downloads/kpitter-main/frontend/src/components/PostDetail.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getPostDetail, likePost } from '../api';\nimport { useParams } from 'react-router-dom';\n\nexport default function PostDetail() {\n  const { postId } = useParams();\n  const [post, setPost] = useState(null);\n\n  useEffect(() => {\n    fetchDetail();\n    // eslint-disable-next-line\n  }, [postId]);\n\n  async function fetchDetail() {\n    try {\n      const data = await getPostDetail(postId);\n      setPost(data);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  async function handleLike() {\n    try {\n      await likePost(postId);\n      fetchDetail();\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  if (!post) return <div>Loading post detail...</div>;\n\n  return (\n    <div>\n      <h3>Post #{post.id}</h3>\n      <p><b>{post.author.username}</b>: {post.text}</p>\n      <p>Likes: {post.likesCount}</p>\n      <button onClick={handleLike}>Like</button>\n    </div>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,CAAEC,QAAQ,KAAQ,QAAQ,CAChD,OAASC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACnC,KAAM,CAAEC,MAAO,CAAC,CAAGN,SAAS,CAAC,CAAC,CAC9B,KAAM,CAACO,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACdY,WAAW,CAAC,CAAC,CACb;AACF,CAAC,CAAE,CAACH,MAAM,CAAC,CAAC,CAEZ,cAAe,CAAAG,WAAWA,CAAA,CAAG,CAC3B,GAAI,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAZ,aAAa,CAACQ,MAAM,CAAC,CACxCE,OAAO,CAACE,IAAI,CAAC,CACf,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAEA,cAAe,CAAAG,UAAUA,CAAA,CAAG,CAC1B,GAAI,CACF,KAAM,CAAAf,QAAQ,CAACO,MAAM,CAAC,CACtBG,WAAW,CAAC,CAAC,CACf,CAAE,MAAOE,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAEA,GAAI,CAACJ,IAAI,CAAE,mBAAOL,IAAA,QAAAa,QAAA,CAAK,wBAAsB,CAAK,CAAC,CAEnD,mBACEX,KAAA,QAAAW,QAAA,eACEX,KAAA,OAAAW,QAAA,EAAI,QAAM,CAACR,IAAI,CAACS,EAAE,EAAK,CAAC,cACxBZ,KAAA,MAAAW,QAAA,eAAGb,IAAA,MAAAa,QAAA,CAAIR,IAAI,CAACU,MAAM,CAACC,QAAQ,CAAI,CAAC,KAAE,CAACX,IAAI,CAACY,IAAI,EAAI,CAAC,cACjDf,KAAA,MAAAW,QAAA,EAAG,SAAO,CAACR,IAAI,CAACa,UAAU,EAAI,CAAC,cAC/BlB,IAAA,WAAQmB,OAAO,CAAEP,UAAW,CAAAC,QAAA,CAAC,MAAI,CAAQ,CAAC,EACvC,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}