{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,Link}from'react-router-dom';import{getUserPosts,likePost}from'../api';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function UserPage(){const{username}=useParams();const[posts,setPosts]=useState([]);useEffect(()=>{fetchPosts();// eslint-disable-next-line\n},[username]);async function fetchPosts(){try{const data=await getUserPosts(username);setPosts(data);}catch(err){console.error(err);}}async function handleLike(id){try{await likePost(id);fetchPosts();}catch(err){console.error(err);}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Posts by \",username]}),posts.map(p=>/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #ccc',margin:'5px',padding:'5px'},children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/post/\".concat(p.id),children:p.text})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Likes: \",p.likesCount]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleLike(p.id),children:\"Like\"})]},p.id))]});}","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","getUserPosts","likePost","jsxs","_jsxs","jsx","_jsx","UserPage","username","posts","setPosts","fetchPosts","data","err","console","error","handleLike","id","children","map","p","style","border","margin","padding","to","concat","text","likesCount","onClick"],"sources":["/Users/ismailosmanov/Downloads/kpitter-main/frontend/src/pages/UserPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { getUserPosts, likePost } from '../api';\n\nexport default function UserPage() {\n  const { username } = useParams();\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    fetchPosts();\n    // eslint-disable-next-line\n  }, [username]);\n\n  async function fetchPosts() {\n    try {\n      const data = await getUserPosts(username);\n      setPosts(data);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  async function handleLike(id) {\n    try {\n      await likePost(id);\n      fetchPosts();\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  return (\n    <div>\n      <h2>Posts by {username}</h2>\n      {posts.map(p => (\n        <div key={p.id} style={{ border:'1px solid #ccc', margin:'5px', padding:'5px' }}>\n          <p>\n            <Link to={`/post/${p.id}`}>\n              {p.text}\n            </Link>\n          </p>\n          <p>Likes: {p.likesCount}</p>\n          <button onClick={() => handleLike(p.id)}>Like</button>\n        </div>\n      ))}\n    </div>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,IAAI,KAAQ,kBAAkB,CAClD,OAASC,YAAY,CAAEC,QAAQ,KAAQ,QAAQ,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEhD,cAAe,SAAS,CAAAC,QAAQA,CAAA,CAAG,CACjC,KAAM,CAAEC,QAAS,CAAC,CAAGT,SAAS,CAAC,CAAC,CAChC,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACdc,UAAU,CAAC,CAAC,CACZ;AACF,CAAC,CAAE,CAACH,QAAQ,CAAC,CAAC,CAEd,cAAe,CAAAG,UAAUA,CAAA,CAAG,CAC1B,GAAI,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAX,YAAY,CAACO,QAAQ,CAAC,CACzCE,QAAQ,CAACE,IAAI,CAAC,CAChB,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAEA,cAAe,CAAAG,UAAUA,CAACC,EAAE,CAAE,CAC5B,GAAI,CACF,KAAM,CAAAf,QAAQ,CAACe,EAAE,CAAC,CAClBN,UAAU,CAAC,CAAC,CACd,CAAE,MAAOE,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAEA,mBACET,KAAA,QAAAc,QAAA,eACEd,KAAA,OAAAc,QAAA,EAAI,WAAS,CAACV,QAAQ,EAAK,CAAC,CAC3BC,KAAK,CAACU,GAAG,CAACC,CAAC,eACVhB,KAAA,QAAgBiB,KAAK,CAAE,CAAEC,MAAM,CAAC,gBAAgB,CAAEC,MAAM,CAAC,KAAK,CAAEC,OAAO,CAAC,KAAM,CAAE,CAAAN,QAAA,eAC9EZ,IAAA,MAAAY,QAAA,cACEZ,IAAA,CAACN,IAAI,EAACyB,EAAE,UAAAC,MAAA,CAAWN,CAAC,CAACH,EAAE,CAAG,CAAAC,QAAA,CACvBE,CAAC,CAACO,IAAI,CACH,CAAC,CACN,CAAC,cACJvB,KAAA,MAAAc,QAAA,EAAG,SAAO,CAACE,CAAC,CAACQ,UAAU,EAAI,CAAC,cAC5BtB,IAAA,WAAQuB,OAAO,CAAEA,CAAA,GAAMb,UAAU,CAACI,CAAC,CAACH,EAAE,CAAE,CAAAC,QAAA,CAAC,MAAI,CAAQ,CAAC,GAP9CE,CAAC,CAACH,EAQP,CACN,CAAC,EACC,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}